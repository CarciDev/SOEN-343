import{w as p,r as S}from"./index.Co7PORM7.js";import{F as b,G as I,H as P}from"./scheduler.DdsthWez.js";const T={message:"Missing Toast Message",autohide:!0,timeout:5e3},w="toastStore";function x(){const e=b(w);if(!e)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return e}function D(){const e=L();return I(w,e)}function E(){const e=Math.random();return Number(e).toString(32)}function L(){const{subscribe:e,set:n,update:o}=p([]),a=s=>o(t=>{if(t.length>0){const i=t.findIndex(c=>c.id===s),r=t[i];r&&(r.callback&&r.callback({id:s,status:"closed"}),r.timeoutId&&clearTimeout(r.timeoutId),t.splice(i,1))}return t});function d(s){if(s.autohide===!0)return setTimeout(()=>{a(s.id)},s.timeout)}return{subscribe:e,close:a,trigger:s=>{const t=E();return o(i=>{s&&s.callback&&s.callback({id:t,status:"queued"}),s.hideDismiss&&(s.autohide=!0);const r={...T,...s,id:t};return r.timeoutId=d(r),i.push(r),i}),t},freeze:s=>o(t=>(t.length>0&&clearTimeout(t[s].timeoutId),t)),unfreeze:s=>o(t=>(t.length>0&&(t[s].timeoutId=d(t[s])),t)),clear:()=>n([])}}const m={};function h(e){return e==="local"?localStorage:sessionStorage}function f(e,n,o){const a=JSON,d="local";function s(t,i){h(d).setItem(t,a.stringify(i))}if(!m[e]){const t=p(n,c=>{const u=h(d).getItem(e);u&&c(a.parse(u));{const g=l=>{l.key===e&&c(l.newValue?a.parse(l.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:i,set:r}=t;m[e]={set(c){s(e,c),r(c)},update(c){const u=c(P(t));s(e,u),r(u)},subscribe:i}}return m[e]}const U=f("modeOsPrefers",!1),v=f("modeUserPrefers",void 0),C=f("modeCurrent",!1);function H(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return U.set(e),e}function R(e){v.set(e)}function _(e){const n=document.documentElement.classList,o="dark";e===!0?n.remove(o):n.add(o),C.set(e)}function A(){const e=document.documentElement.classList,n=localStorage.getItem("modeUserPrefers")==="false",o=!("modeUserPrefers"in localStorage),a=window.matchMedia("(prefers-color-scheme: dark)").matches;n||o&&a?e.add("dark"):e.remove("dark")}const M="(prefers-reduced-motion: reduce)";function z(){return window.matchMedia(M).matches}const N=S(z(),e=>{{const n=a=>{e(a.matches)},o=window.matchMedia(M);return o.addEventListener("change",n),()=>{o.removeEventListener("change",n)}}});export{_ as a,H as b,R as c,x as g,D as i,C as m,N as p,A as s};
